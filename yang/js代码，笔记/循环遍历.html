<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<button type="button">1</button>
		<button type="button">2</button>
		<button type="button">3</button>
		
		<script type="text/javascript">
			window.onload = function(){
				var btns = document.getElementsByTagName("button");
				
				// for(i=0; i<btns.length; i++){}
				// 	btns[i].index = i;
				// 	btns[i].addEventListener("click",function(){
				// 		alert(this.index)
				// 	})	
				// }
				
				//循环所有btn
				for(i=0; i<btns.length; i++){
					//立即执行函数里把全局变量i穿给了这个函数 
					(function(i){
						
						btns[i].addEventListener("click",function(){
							alert(i)
						})
						
					})(i)
					
				}
				
				
			}
			
			
		</script>
	</body>
</html>
